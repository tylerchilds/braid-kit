/*
 focus-trap 7.0.0
 @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
 tabbable 6.0.1
 @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/
(()=>{function pa(f,c){if(c=c(f))f.innerHTML=c}function qa(f,c){T("create",f,a=>{a=pa.bind(null,a.target,c);U[f]=a;a()})}function ra(f,c){f=`
    <style type="text/css" data-module=${f}>
      ${c.replaceAll("&",f)}
    </style>
  `;document.body.insertAdjacentHTML("beforeend",f)}function sa(f){return V.get(f)||{}}function W(f,c,a=(b,e)=>({...b,...e})){V.set(f,c,a)}function ta(f,c,a,b){T(c,`${f} ${a}`,b)}function T(f,c,a=()=>null){const b=e=>{e.target&&e.target.matches&&e.target.matches(c)&&a.call(null,e)};document.addEventListener(f,b,!0);ua.includes(f)&&va(c);return function(){if("create"===f){const e=x.indexOf(c);0<=e&&(x=[...x.slice(0,e),...x.slice(e+1)])}document.removeEventListener(f,b,!0)}}function va(f){x=[...(new Set([...x,
f]))];X([...document.querySelectorAll(f)])}function X(f){f.filter(c=>!c.reactive).forEach(wa)}function xa({target:f}){return 0<x.length?[...f.querySelectorAll(x.join(", "))]:[]}function wa(f){f.id||(f.id=ya());f.dispatchEvent(new Event("create"));f.reactive=!0}function ya(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){const c=16*Math.random()|0;return("x"==f?c:c&3|8).toString(16)})}function Y(f,c){var a=Object.keys(f);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(f);
c&&(b=b.filter(function(e){return Object.getOwnPropertyDescriptor(f,e).enumerable}));a.push.apply(a,b)}return a}function Z(f){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?Y(Object(a),!0).forEach(function(b){var e=a[b];b in f?Object.defineProperty(f,b,{value:e,enumerable:!0,configurable:!0,writable:!0}):f[b]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach(function(b){Object.defineProperty(f,
b,Object.getOwnPropertyDescriptor(a,b))})}return f}function za(f){return()=>{f.classList.add("is-active");f.querySelector('[name="filter"]').focus()}}function Aa(f){return()=>{f.classList.remove("is-active");v.write({filter:""})}}var Ba=()=>null,ua=["create"],U={},V=function(f={},c=()=>null){let a={...f};return{set:function(b,e,g){e=g(a[b]||{},e);a={...a,[b]:e};c(b)},get:function(b){return a[b]}}}({},function(f){(U[f]||Ba)()}),x=[];(new MutationObserver(f=>{f=[...f].map(xa).flatMap(c=>c);X(f)})).observe(document.body,
{childList:!0,subtree:!0});var aa='input select textarea a[href] button [tabindex]:not(slot) audio[controls] video[controls] [contenteditable]:not([contenteditable="false"]) details>summary:first-of-type details'.split(" "),I=aa.join(","),ba="undefined"===typeof Element,z=ba?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,J=!ba&&Element.prototype.getRootNode?function(f){return f.getRootNode()}:function(f){return f.ownerDocument},
ca=function(f,c,a){var b=Array.prototype.slice.apply(f.querySelectorAll(I));c&&z.call(f,I)&&b.unshift(f);return b=b.filter(a)},da=function e(c,a,b){for(var g=[],n=Array.from(c);n.length;){var l=n.shift();if("SLOT"===l.tagName){var k=l.assignedElements();k=e(k.length?k:l.children,!0,b);b.flatten?g.push.apply(g,k):g.push({scopeParent:l,candidates:k})}else{z.call(l,I)&&b.filter(l)&&(a||!c.includes(l))&&g.push(l);k=l.shadowRoot||"function"===typeof b.getShadowRoot&&b.getShadowRoot(l);var w=!b.shadowRootFilter||
b.shadowRootFilter(l);k&&w?(k=e(!0===k?l.children:k.children,!0,b),b.flatten?g.push.apply(g,k):g.push({scopeParent:l,candidates:k})):n.unshift.apply(n,l.children)}}return g},ea=function(c,a){return 0>c.tabIndex&&(a||/^(AUDIO|VIDEO|DETAILS)$/.test(c.tagName)||c.isContentEditable)&&isNaN(parseInt(c.getAttribute("tabindex"),10))?0:c.tabIndex},Ca=function(c,a){return c.tabIndex===a.tabIndex?c.documentOrder-a.documentOrder:c.tabIndex-a.tabIndex},Da=function(c){return"DETAILS"===c.tagName&&Array.prototype.slice.apply(c.children).some(function(a){return"SUMMARY"===
a.tagName})},Ea=function(c,a){for(var b=0;b<c.length;b++)if(c[b].checked&&c[b].form===a)return c[b]},Fa=function(c){if(!c.name)return!0;var a=c.form||J(c),b=function(g){return a.querySelectorAll('input[type="radio"][name="'+g+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)var e=b(window.CSS.escape(c.name));else try{e=b(c.name)}catch(g){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",
g.message),!1}b=Ea(e,c.form);return!b||b===c},fa=function(c){c=c.getBoundingClientRect();var a=c.height;return 0===c.width&&0===a},Ga=function(c,a){var b=a.displayCheck;a=a.getShadowRoot;if("hidden"===getComputedStyle(c).visibility)return!0;var e=z.call(c,"details>summary:first-of-type")?c.parentElement:c;if(z.call(e,"details:not([open]) *"))return!0;if(!b||"full"===b||"legacy-full"===b){if("function"===typeof a){for(e=c;c;){var g=c.parentElement,n=J(c);if(g&&!g.shadowRoot&&!0===a(g))return fa(c);
c=c.assignedSlot?c.assignedSlot:g||n===c.ownerDocument?g:n.host}c=e}a=c;var l;e=J(a).host;for(g=!!(null!==(l=e)&&void 0!==l&&l.ownerDocument.contains(e)||a.ownerDocument.contains(a));!g&&e;){var k;e=J(e).host;g=!(null===(k=e)||void 0===k||!k.ownerDocument.contains(e))}if(g)return!c.getClientRects().length;if("legacy-full"!==b)return!0}else if("non-zero-area"===b)return fa(c);return!1},K=function(c,a){var b;(b=a.disabled)||(b="INPUT"===a.tagName&&"hidden"===a.type);if(!(c=b||Ga(a,c)||Da(a)))a:{if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(a.tagName))for(c=
a.parentElement;c;){if("FIELDSET"===c.tagName&&c.disabled){for(b=0;b<c.children.length;b++){var e=c.children.item(b);if("LEGEND"===e.tagName){c=z.call(c,"fieldset[disabled] *")?!0:!e.contains(a);break a}}c=!0;break a}c=c.parentElement}c=!1}return c?!1:!0},P=function(c,a){return"INPUT"===a.tagName&&"radio"===a.type&&!Fa(a)||0>ea(a)||!K(c,a)?!1:!0},Ha=function(c){c=parseInt(c.getAttribute("tabindex"),10);return isNaN(c)||0<=c?!0:!1},Ia=function b(a){var e=[],g=[];a.forEach(function(n,l){var k=!!n.scopeParent,
w=k?n.scopeParent:n,C=ea(w,k),t=k?b(n.candidates):w;0===C?k?e.push.apply(e,t):e.push(w):g.push({documentOrder:l,tabIndex:C,item:n,isScope:k,content:t})});return g.sort(Ca).reduce(function(n,l){l.isScope?n.push.apply(n,l.content):n.push(l.content);return n},[]).concat(e)},Ja=function(a,b){b=b||{};a=b.getShadowRoot?da([a],b.includeContainer,{filter:P.bind(null,b),flatten:!1,getShadowRoot:b.getShadowRoot,shadowRootFilter:Ha}):ca(a,b.includeContainer,P.bind(null,b));return Ia(a)},Ka=function(a,b){b=b||
{};return b.getShadowRoot?da([a],b.includeContainer,{filter:K.bind(null,b),flatten:!0,getShadowRoot:b.getShadowRoot}):ca(a,b.includeContainer,K.bind(null,b))},L=function(a,b){b=b||{};if(!a)throw Error("No node provided");return!1===z.call(a,I)?!1:P(b,a)},La=aa.concat("iframe").join(","),Q=function(a,b){b=b||{};if(!a)throw Error("No node provided");return!1===z.call(a,La)?!1:K(b,a)},ha=function(){var a=[];return{activateTrap:function(b){if(0<a.length){var e=a[a.length-1];e!==b&&e.pause()}e=a.indexOf(b);
-1!==e&&a.splice(e,1);a.push(b)},deactivateTrap:function(b){b=a.indexOf(b);-1!==b&&a.splice(b,1);0<a.length&&a[a.length-1].unpause()}}}(),ia=function(a,b){var e=-1;a.every(function(g,n){return b(g)?(e=n,!1):!0});return e},D=function(a){for(var b=arguments.length,e=Array(1<b?b-1:0),g=1;g<b;g++)e[g-1]=arguments[g];return"function"===typeof a?a.apply(void 0,e):a},M=function(a){return a.target.shadowRoot&&"function"===typeof a.composedPath?a.composedPath()[0]:a.target},Na=function(a,b){var e=(null===
b||void 0===b?void 0:b.document)||document,g=Z({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},b),n=[],l=[],k=[],w=null,C=null,t=!1,A=!1,R=void 0,B=function(m,d,h){return m&&void 0!==m[d]?m[d]:g[h||d]},E=function(m){return l.findIndex(function(d){var h=d.tabbableNodes;return d.container.contains(m)||h.find(function(p){return p===m})})},F=function(m){var d=g[m];if("function"===typeof d){for(var h=arguments.length,p=Array(1<h?h-1:0),q=1;q<h;q++)p[q-1]=arguments[q];d=d.apply(void 0,
p)}!0===d&&(d=void 0);if(!d){if(void 0===d||!1===d)return d;throw Error("`".concat(m,"` was specified but was not a node, or did not return a node"));}h=d;if("string"===typeof d&&(h=e.querySelector(d),!h))throw Error("`".concat(m,"` as selector refers to no known node"));return h},N=function(){var m=F("initialFocus");if(!1===m)return!1;void 0===m&&(m=0<=E(e.activeElement)?e.activeElement:(m=k[0])&&m.firstTabbableNode||F("fallbackFocus"));if(!m)throw Error("Your focus-trap needs to have at least one focusable element");
return m},G=function(){l=n.map(function(m){var d=Ja(m,g.tabbableOptions),h=Ka(m,g.tabbableOptions);return{container:m,tabbableNodes:d,focusableNodes:h,firstTabbableNode:0<d.length?d[0]:null,lastTabbableNode:0<d.length?d[d.length-1]:null,nextTabbableNode:function(p){var q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,u=h.findIndex(function(r){return r===p});if(!(0>u))return q?h.slice(u+1).find(function(r){return L(r,g.tabbableOptions)}):h.slice(0,u).reverse().find(function(r){return L(r,
g.tabbableOptions)})}}});k=l.filter(function(m){return 0<m.tabbableNodes.length});if(0>=k.length&&!F("fallbackFocus"))throw Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");},H=function h(d){!1!==d&&d!==e.activeElement&&(d&&d.focus?(d.focus({preventScroll:!!g.preventScroll}),C=d,d.tagName&&"input"===d.tagName.toLowerCase()&&"function"===typeof d.select&&d.select()):h(N()))},ja=function(d){var h=F("setReturnFocus",d);return h?h:!1===h?!1:
d},O=function(d){var h=M(d);0<=E(h)||(D(g.clickOutsideDeactivates,d)?y.deactivate({returnFocus:g.returnFocusOnDeactivate&&!Q(h,g.tabbableOptions)}):D(g.allowOutsideClick,d)||d.preventDefault())},ka=function(d){var h=M(d),p=0<=E(h);p||h instanceof Document?p&&(C=h):(d.stopImmediatePropagation(),H(C||N()))},Ma=function(d){var h=M(d);G();var p=null;if(0<k.length){var q=E(h),u=0<=q?l[q]:void 0;if(0>q)p=d.shiftKey?k[k.length-1].lastTabbableNode:k[0].firstTabbableNode;else if(d.shiftKey){var r=ia(k,function(S){return h===
S.firstTabbableNode});0>r&&(u.container===h||Q(h,g.tabbableOptions)&&!L(h,g.tabbableOptions)&&!u.nextTabbableNode(h,!1))&&(r=q);0<=r&&(p=k[0===r?k.length-1:r-1].lastTabbableNode)}else r=ia(k,function(S){return h===S.lastTabbableNode}),0>r&&(u.container===h||Q(h,g.tabbableOptions)&&!L(h,g.tabbableOptions)&&!u.nextTabbableNode(h))&&(r=q),0<=r&&(p=k[r===k.length-1?0:r+1].firstTabbableNode)}else p=F("fallbackFocus");p&&(d.preventDefault(),H(p))},la=function(d){"Escape"!==d.key&&"Esc"!==d.key&&27!==d.keyCode||
!1===D(g.escapeDeactivates,d)?"Tab"!==d.key&&9!==d.keyCode||Ma(d):(d.preventDefault(),y.deactivate())},ma=function(d){var h=M(d);0<=E(h)||D(g.clickOutsideDeactivates,d)||D(g.allowOutsideClick,d)||(d.preventDefault(),d.stopImmediatePropagation())},na=function(){if(t)return ha.activateTrap(y),R=g.delayInitialFocus?setTimeout(function(){H(N())},0):H(N()),e.addEventListener("focusin",ka,!0),e.addEventListener("mousedown",O,{capture:!0,passive:!1}),e.addEventListener("touchstart",O,{capture:!0,passive:!1}),
e.addEventListener("click",ma,{capture:!0,passive:!1}),e.addEventListener("keydown",la,{capture:!0,passive:!1}),y},oa=function(){if(t)return e.removeEventListener("focusin",ka,!0),e.removeEventListener("mousedown",O,!0),e.removeEventListener("touchstart",O,!0),e.removeEventListener("click",ma,!0),e.removeEventListener("keydown",la,!0),y};var y={get active(){return t},get paused(){return A},activate:function(d){if(t)return this;var h=B(d,"onActivate"),p=B(d,"onPostActivate"),q=B(d,"checkCanFocusTrap");
q||G();t=!0;A=!1;w=e.activeElement;h&&h();d=function(){q&&G();na();p&&p()};if(q)return q(n.concat()).then(d,d),this;d();return this},deactivate:function(d){if(!t)return this;var h=Z({onDeactivate:g.onDeactivate,onPostDeactivate:g.onPostDeactivate,checkCanReturnFocus:g.checkCanReturnFocus},d);clearTimeout(R);R=void 0;oa();A=t=!1;ha.deactivateTrap(y);var p=B(h,"onDeactivate"),q=B(h,"onPostDeactivate");d=B(h,"checkCanReturnFocus");var u=B(h,"returnFocus","returnFocusOnDeactivate");p&&p();h=function(){setTimeout(function(){u&&
H(ja(w));q&&q()},0)};if(u&&d)return d(ja(w)).then(h,h),this;h();return this},pause:function(){if(A||!t)return this;A=!0;oa();return this},unpause:function(){if(!A||!t)return this;A=!1;G();na();return this},updateContainerElements:function(d){n=[].concat(d).filter(Boolean).map(function(h){return"string"===typeof h?e.querySelector(h):h});t&&G();return this}};y.updateContainerElements(a);return y},Oa=[{command:"escape"},{command:"download"},{command:"upload"}],v=function(a,b={}){W(a,b);return{selector:a,
read:sa.bind(null,a),render:qa.bind(null,a),style:ra.bind(null,a),on:ta.bind(null,a),write:W.bind(null,a)}}("console-module",{filter:""});v.on("click",".item",function(a){a.preventDefault();var b=a.target.closest(v.selector);({command:a}=a.target.dataset);console.log(a);alert(`executed ${a}`);b.trap.deactivate()});v.on("click",".bar",function(a){a=a.target.closest(v.selector);a.matches(".is-active")?a.trap.deactivate():a.trap.activate()});v.on("keyup",'[name="filter"]',function(a){({value:a}=a.target);
v.write({filter:a})});v.render(a=>{a.trap||(a.trap=Na(a,{onActivate:za(a),onDeactivate:Aa(a),clickOutsideDeactivates:!0}));const {filter:b}=v.read();a=Oa.filter(g=>-1<g.command.toLowerCase().indexOf(b.toLowerCase())).map(g=>`
      <button class="item" data-command="${g.command}">
        ${g.command}
      </button>
    `).join("");const e=`
    <button class="item" data-id="${b}">
      ${b}
    </button>
  `;return`
    <button class="bar">
      'run: ' ${[].map(g=>g.command).join(", ")}
    </button>

    <div class="filterable-list">
      <div class="filter-area">
        <input type="text" name="filter" placeholder="Search" value="${b}" />
      </div>
      <div class="list">
        ${a}
        ${e}
      </div>
    </div>
  `});v.style('\n\t& {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\tz-index: 3;\n    width: 100%;\n\t}\n\n\t& .filter-area {\n    margin: .5rem;\n\t}\n\n\t& .bar {\n\t\twhite-space: nowrap;\n\t\tbackground: rgba(255,255,255,.85);\n    width: 100%;\n\t}\n\n\t&.is-active .bar {\n\t}\n\t& .bar:hover,\n\t& .bar:focus {\n\t}\n\n\t& [name="filter"] {\n\t\tbackground: white;\n\t\tborder: none;\n\t\twidth: 100%;\n    display: block;\n\t}\n\n\t& .filterable-list {\n    background: white;\n\t\tdisplay: none;\n\t\tposition: absolute;\n    width: 100%;\n\t}\n\n\t&.is-active .filterable-list {\n\t\tdisplay: flex;\n    flex-direction: column;\n\t}\n\n  & .filterable-list.above {\n    top: 0;\n    transform: translateY(-100%);\n    flex-direction: column-reverse;\n  }\n\n\t& .item {\n\t\tbackground: transparent;\n\t\tborder: none;\n\t\tdisplay: grid;\n\t\tgrid-template-columns: auto 1fr;\n\t\talign-items: center;\n\t\tmin-height: 40px;\n\t\tmargin: 0;\n\t\ttext-align: left;\n\t\twidth: 100%;\n\t}\n\n\t& .item * {\n\t\tpointer-events: none;\n\t}\n\n\t& .list {\n\t\tmax-height: 80vh;\n\t\toverflow-y: auto;\n\t}\n\n\t& .item:hover,\n\t& .item:focus {\n\t\tbackground: linear-gradient(rgba(0,0,0,0) 75%, rgba(0,0,0,.25));\n\t}\n')})();
